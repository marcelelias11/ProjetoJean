function calcularMediaPonderada(notas, pesos) {
    let somaPonderada = 0;
    let somaPesos = 0;

    for (const area in notas) {
        somaPonderada += notas[area] * pesos[area];
        somaPesos += pesos[area];
    }

    return somaPonderada / somaPesos;
}

function compararNotasDeCorte(media, notasDeCorte) {
    const comparacao = {};
    for (const ano in notasDeCorte) {
        const diferenca = notasDeCorte[ano] - media;
        comparacao[ano] = media >= notasDeCorte[ano] 
            ? `Parabéns, você atenderia a nota de corte para o curso com base na nota de corte de ${ano}` 
            : `Infelizmente, você não atingiu a nota de corte de ${ano} por ${diferenca.toFixed(2)} pontos.`;
    }
    return comparacao;
}

async function buscarDadosDoBanco() {
    // Aqui entra a lógica do banco, depois posso fazer isso
    
    return { pesos, notasDeCorte };
}

const notasAluno = JSON.parse(localStorage.getItem('savedNotes'));

async function processarNotas() {
    const { pesos, notasDeCorte } = await buscarDadosDoBanco();

    const mediaAluno = calcularMediaPonderada(notasAluno, pesos);
    console.log(`Média ponderada do aluno: ${mediaAluno.toFixed(2)}`);

    const resultadoComparacao = compararComNotasDeCorte(mediaAluno, notasDeCorte);
    console.log("Comparação com as notas de corte:");
    for (const ano in resultadoComparacao) {
        console.log(`${ano}: ${resultadoComparacao[ano]}`);
    }
}

processarNotas();
